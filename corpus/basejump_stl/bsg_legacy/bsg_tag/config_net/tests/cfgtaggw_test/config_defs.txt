============================================
basejump_stl/bsg_legacy/bsg_tag/config_net/tests/cfgtaggw_test/config_defs
============================================

`ifndef CONFIG_DEFS_V

`define CONFIG_DEFS_V

typedef struct packed {
  logic cfg_clk;
  logic cfg_bit;
} config_s;

/* ========================================================================== *
 * WARNING: Please do not modify the following hard-coded localparams unless
 *          you are clear about the possible consequences.
 *
 *   frame_bit_size_lp is set to 1 and the current framing bit is defined as
 *   a single '0'.
 *
 *   data_frame_len_lp has to be less than the reset_len_lp, so that when
 *   bits are shifted in, the content of a data frame never gets interpreted
 *   as a reset sequence.
 *
 *   Since id bits and len bits are not framed in this implementation,
 *   id_width_lp and len_width_lp also should be less than reset_len_lp.
 * ========================================================================== */
// local parameters same for all nodes in the configuration network
localparam valid_bit_size_lp  =  2;
localparam frame_bit_size_lp  =  1;
localparam data_frame_len_lp  = 12;  // bit '0' is inserted every data_frame_len_lp in data bits
localparam id_width_lp        =  8;  // number of bits to represent the ID of a node, should be able to keep the max ID in the whole chain
localparam len_width_lp       =  8;  // number of bits to represent number of bits in the configuration packet ==> this can be reduced to $clog2(data_max_bits_lp)
localparam reset_len_lp       = 14;  // reset sequence length

localparam sync_len_lp        =  2;  // This has to be no less than 2 to provide reasonable MTBF

localparam data_max_bits_lp   = 36;  // maximum number of allowed configurable bits in a single config_node
                                     // the value should match the main processor's data width for efficient communication

localparam id_tag_bits_lp     =  8;  // a pseudo random tag for the snooper node
                                     // feedback formula config_snooper needs change if this length changed

`endif

----

(source_file
  (conditional_compilation_directive
    (ifdef_condition
      (simple_identifier)))
  (text_macro_definition
    (text_macro_name
      (simple_identifier)))
  (data_declaration
    (type_declaration
      (data_type
        (struct_union)
        (struct_union_member
          (data_type_or_void
            (data_type
              (integer_vector_type)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))
        (struct_union_member
          (data_type_or_void
            (data_type
              (integer_vector_type)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier)))))
      type_name: (simple_identifier)))
  (block_comment)
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (one_line_comment)
  (local_parameter_declaration
    (list_of_param_assignments
      (param_assignment
        (simple_identifier)
        (constant_param_expression
          (constant_mintypmax_expression
            (constant_expression
              (constant_primary
                (primary_literal
                  (integral_number
                    (decimal_number
                      (unsigned_number)))))))))))
  (one_line_comment)
  (one_line_comment)
  (conditional_compilation_directive))
