============================================
basejump_stl/bsg_tag/bsg_tag_master
============================================

// bsg_tag_master
//
// 8/30/2016
//
// Usage: send a stream of 0's to reset master node and/or noop.
// Then, send a single <1> followed by a packet:
//        < id >       < data_not_reset > < payload length >             < payload >
// ****************************************************************************
// $clog2(els_p+1)      1        $clog2(max_payload_length+1)  (variable size)
//
// To reset client nodes, set data_not_reset to 0, and payload to 1's.
//
//

`include "bsg_defines.sv"

`include "bsg_tag.svh"

// will not build in verilator without this
// possibly resulting incorrect behavior :(

// verilator lint_off BLKANDNBLK

module bsg_tag_master
  import bsg_tag_pkg::bsg_tag_s;

   // els_p is the number of clients to attach
   // lg_width_p is the number of bits used to describe the payload size
   
   #(parameter `BSG_INV_PARAM(els_p), `BSG_INV_PARAM(lg_width_p), debug_level_lp=2)
   (
    // from pins
    input clk_i
    ,input en_i
    ,input data_i
    , output bsg_tag_s [els_p-1:0] clients_r_o
    );

   `declare_bsg_tag_header_s(els_p,lg_width_p)

   localparam max_packet_len_lp    = `bsg_tag_max_packet_len(els_p,lg_width_p);

   localparam reset_len_lp = `bsg_tag_reset_len(els_p,lg_width_p);
   
   // counts 0..max_packet_len_lp
   localparam lg_max_packet_len_lp = `BSG_SAFE_CLOG2(max_packet_len_lp+1);

`ifndef BSG_HIDE_FROM_SYNTHESIS
   if (debug_level_lp > 2)
     always @(negedge clk_i)
       $display("## bsg_tag_master clients=%b (%m)",clients_r_o);
`endif

   logic  data_i_r;

   always @(posedge clk_i)
     data_i_r <= data_i;

   // ***************************
   // RESET LOGIC
   // extra bit to detect carry out in counter

   localparam ctr_width_lp = lg_max_packet_len_lp+1;
   logic [ctr_width_lp-1:0] zeros_ctr_r;


   wire tag_reset_req = zeros_ctr_r[ctr_width_lp-1];

   // this self-clearing counter detects a certain number
   // of consecutive 0's
   // indicating a tag_master reset condition
   //

   bsg_counter_clear_up #(.max_val_p((1 << ctr_width_lp)-1)
                          ,.init_val_p(0)
                          ) bccu
   (.clk_i   (clk_i)
    ,.reset_i(1'b0)
    // we clear the counter if we hit the limit
    ,.clear_i(data_i_r | tag_reset_req)
    ,.up_i   (~data_i_r)
    ,.count_o(zeros_ctr_r)
    );

   // veri lator doesn't support -d
`ifndef BSG_HIDE_FROM_SYNTHESIS
   initial
        $display("## %m instantiating bsg_tag_master with els_p=%d, lg_width_p=%d, max_packet_len_lp=%d, reset_zero_len=%d"
                 ,els_p,lg_width_p,max_packet_len_lp,reset_len_lp);
`endif

   //
   // END RESET LOGIC
   // ***************************

   logic [lg_max_packet_len_lp-1:0] hdr_ptr_r, hdr_ptr_n;
   bsg_tag_header_s hdr_r, hdr_n;

   // sending
   logic  v_n;
   // value to send
   bsg_tag_s bsg_tag_n;

   typedef enum logic [1:0] {eStart, eHeader, eTransfer, eStuck} state_e;

   state_e state_r, state_n;

   // synopsys sync_set_reset "tag_reset_req, data_i_r"

   always_ff @(posedge clk_i)
     // if we hit the counter AND (subtle bug) there is no valid incoming data that would get lost
     if (tag_reset_req & ~data_i_r)
       begin
`ifndef BSG_HIDE_FROM_SYNTHESIS
          if (debug_level_lp > 2) $display("## bsg_tag_master RESET time %t (%m)",$time);
`endif
          state_r   <= eStart;

          // we put this here because DC did not currently infer "reset" logic
          hdr_ptr_r <= 0;
       end
     else
       begin
          state_r   <= state_n;
          hdr_ptr_r <= hdr_ptr_n;
       end

   always_ff @(posedge clk_i)
        hdr_r <= hdr_n;

`ifndef BSG_HIDE_FROM_SYNTHESIS
   always_ff @(negedge clk_i)
     if (state_n != state_r)
       if (debug_level_lp > 1) $display("## bsg_tag_master STATE CHANGE  # %s --> %s #",state_r.name(),state_n.name());
`endif

   always_comb
     begin
        state_n   = state_r;
        hdr_ptr_n = hdr_ptr_r;
        hdr_n     = hdr_r;

        // outgoing
        v_n             = 1'b0;
        bsg_tag_n.op    = 1'b0;
        bsg_tag_n.param = 1'b0;

        case (state_r)
          // first 1 after zero indicates beginning of packet
          eStart:
               begin
                  if (data_i_r)
                    state_n = eHeader;

                  hdr_ptr_n = 0;
                  hdr_n     = 0;
               end
          eHeader:
               begin
`ifndef BSG_HIDE_FROM_SYNTHESIS
                  if (debug_level_lp > 1)
                    $display("## bsg_tag_master RECEIVING HEADER (%m) (%d) = %b",hdr_ptr_r,data_i_r);
`endif

                  hdr_n     = { data_i_r, hdr_r[1+:($bits(bsg_tag_header_s)-1)] };
                  hdr_ptr_n = hdr_ptr_r + 1'b1;
                  // if we are at the next to last value
                  if (hdr_ptr_r == lg_max_packet_len_lp'($bits(bsg_tag_header_s)-1))
                    begin
                       if (hdr_n.len == 0)
                         begin
                            state_n = eStart;
`ifndef BSG_HIDE_FROM_SYNTHESIS
                            $display("## bsg_tag_master NULL PACKET, len=0 (%m)");
`endif
                         end
                       else
                         begin

`ifndef BSG_HIDE_FROM_SYNTHESIS
                            if (debug_level_lp > 1)
                              $display("## bsg_tag_master PACKET HEADER RECEIVED (length=%b,data_not_reset=%b,nodeID=%b) (%m) "
                                       ,hdr_n.len,hdr_n.data_not_reset,hdr_n.nodeID);
`endif

                            // if we have data to transfer go to transfer state
                            state_n = eTransfer;
                         end
                    end
               end // case: eHeader
          eTransfer:
               begin
                  // transmit data
                  // if hdr_r.reset = 1, then we send <0,data> for hdr_r.len cycles
                  // otherwise we send <1,data> for hdr_r.len cycles
                  // typically for reset, we will send 1's.

                  v_n             = 1'b1;
                  bsg_tag_n.op    = hdr_r.data_not_reset;
                  bsg_tag_n.param = data_i_r;

`ifndef BSG_HIDE_FROM_SYNTHESIS
                  if (debug_level_lp > 2)
                    $display("## bsg_tag_master PACKET TRANSFER op,param=<%b,%b> (%m)", bsg_tag_n.op, bsg_tag_n.param);
`endif

                  // finishing words
                  if (hdr_r.len== lg_width_p ' (1))
                    begin
                       state_n = eStart;

`ifndef BSG_HIDE_FROM_SYNTHESIS
                       if (debug_level_lp > 1) $display("## bsg_tag_master PACKET END (%m)");
`endif

                    end
                  hdr_n.len = hdr_r.len - 1;
               end
          eStuck:
            state_n = eStuck;

            default:
              begin
                 state_n = eStuck;

`ifndef BSG_HIDE_FROM_SYNTHESIS
                 $display("## bsg_tag_master transitioning to error state; be sure to run gate-level netlist to avoid sim/synth mismatch (%m)");
`endif

              end
        endcase // case (state_r)

     end // always_comb

   genvar i;

   // demultiplex the stream to the target node

   wire [els_p-1:0] clients_decode = (v_n << hdr_r.nodeID);


   for (i = 0; i < els_p; i=i+1)
     begin: rof
        always_ff @(posedge clk_i)
          begin
             clients_r_o[i].op    <= clients_decode[i] & bsg_tag_n.op;
             clients_r_o[i].param <= clients_decode[i] & bsg_tag_n.param;
          end


        assign clients_r_o[i].clk = clk_i;
        assign clients_r_o[i].en  = en_i;
     end

   
endmodule // bsg_tag_master

`BSG_ABSTRACT_MODULE(bsg_tag_master)

// verilator lint_on BLKANDNBLK

----

(source_file
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (include_compiler_directive
    (quoted_string
      (quoted_string_item)))
  (include_compiler_directive
    (quoted_string
      (quoted_string_item)))
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (module_declaration
    (module_ansi_header
      (module_keyword)
      name: (simple_identifier)
      (package_import_declaration
        (package_import_item
          (simple_identifier)
          (simple_identifier)))
      (one_line_comment)
      (one_line_comment)
      (parameter_port_list
        (parameter_port_declaration
          (parameter_declaration
            (list_of_param_assignments
              (param_assignment
                (text_macro_usage
                  (simple_identifier)
                  (list_of_actual_arguments
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))))))
              (param_assignment
                (text_macro_usage
                  (simple_identifier)
                  (list_of_actual_arguments
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))))))
              (param_assignment
                (simple_identifier)
                (constant_param_expression
                  (constant_mintypmax_expression
                    (constant_expression
                      (constant_primary
                        (primary_literal
                          (integral_number
                            (decimal_number
                              (unsigned_number)))))))))))))
      (list_of_port_declarations
        (one_line_comment)
        (ansi_port_declaration
          (net_port_header
            (port_direction))
          port_name: (simple_identifier))
        (ansi_port_declaration
          (net_port_header
            (port_direction))
          port_name: (simple_identifier))
        (ansi_port_declaration
          (net_port_header
            (port_direction))
          port_name: (simple_identifier))
        (ansi_port_declaration
          (variable_port_header
            (port_direction)
            (variable_port_type
              (data_type
                (simple_identifier)
                (packed_dimension
                  (constant_range
                    (constant_expression
                      left: (constant_expression
                        (constant_primary
                          (simple_identifier)))
                      right: (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))
                    (constant_expression
                      (constant_primary
                        (primary_literal
                          (integral_number
                            (decimal_number
                              (unsigned_number)))))))))))
          port_name: (simple_identifier))))
    (text_macro_usage
      (simple_identifier)
      (list_of_actual_arguments
        (actual_argument
          (param_expression
            (mintypmax_expression
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))
        (actual_argument
          (param_expression
            (mintypmax_expression
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (local_parameter_declaration
      (list_of_param_assignments
        (param_assignment
          (simple_identifier)
          (constant_param_expression
            (constant_mintypmax_expression
              (constant_expression
                (text_macro_usage
                  (simple_identifier)
                  (list_of_actual_arguments
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))))
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))))))))))))
    (local_parameter_declaration
      (list_of_param_assignments
        (param_assignment
          (simple_identifier)
          (constant_param_expression
            (constant_mintypmax_expression
              (constant_expression
                (text_macro_usage
                  (simple_identifier)
                  (list_of_actual_arguments
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))))
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))))))))))))
    (one_line_comment)
    (local_parameter_declaration
      (list_of_param_assignments
        (param_assignment
          (simple_identifier)
          (constant_param_expression
            (constant_mintypmax_expression
              (constant_expression
                (text_macro_usage
                  (simple_identifier)
                  (list_of_actual_arguments
                    (actual_argument
                      (param_expression
                        (mintypmax_expression
                          (expression
                            left: (expression
                              (primary
                                (hierarchical_identifier
                                  (simple_identifier))))
                            right: (expression
                              (primary
                                (primary_literal
                                  (integral_number
                                    (decimal_number
                                      (unsigned_number))))))))))))))))))
    (conditional_compilation_directive
      (ifdef_condition
        (simple_identifier)))
    (conditional_generate_construct
      (if_generate_construct
        (constant_expression
          left: (constant_expression
            (constant_primary
              (simple_identifier)))
          right: (constant_expression
            (constant_primary
              (primary_literal
                (integral_number
                  (decimal_number
                    (unsigned_number)))))))
        (generate_block
          (always_construct
            (always_keyword)
            (statement
              (statement_item
                (procedural_timing_control_statement
                  (event_control
                    (clocking_event
                      (event_expression
                        (edge_identifier)
                        (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))))))
                  (statement_or_null
                    (statement
                      (statement_item
                        (subroutine_call_statement
                          (subroutine_call
                            (system_tf_call
                              (system_tf_identifier)
                              (list_of_arguments
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string
                                          (quoted_string_item))))))
                                (expression
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier))))))))))))))))))
    (conditional_compilation_directive)
    (data_declaration
      (data_type_or_implicit
        (data_type
          (integer_vector_type)))
      (list_of_variable_decl_assignments
        (variable_decl_assignment
          name: (simple_identifier))))
    (always_construct
      (always_keyword)
      (statement
        (statement_item
          (procedural_timing_control_statement
            (event_control
              (clocking_event
                (event_expression
                  (edge_identifier)
                  (expression
                    (primary
                      (hierarchical_identifier
                        (simple_identifier)))))))
            (statement_or_null
              (statement
                (statement_item
                  (nonblocking_assignment
                    (variable_lvalue
                      (hierarchical_identifier
                        (simple_identifier)))
                    (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (local_parameter_declaration
      (list_of_param_assignments
        (param_assignment
          (simple_identifier)
          (constant_param_expression
            (constant_mintypmax_expression
              (constant_expression
                left: (constant_expression
                  (constant_primary
                    (simple_identifier)))
                right: (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number))))))))))))
    (data_declaration
      (data_type_or_implicit
        (data_type
          (integer_vector_type)
          (packed_dimension
            (constant_range
              (constant_expression
                left: (constant_expression
                  (constant_primary
                    (simple_identifier)))
                right: (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number)))))))
              (constant_expression
                (constant_primary
                  (primary_literal
                    (integral_number
                      (decimal_number
                        (unsigned_number))))))))))
      (list_of_variable_decl_assignments
        (variable_decl_assignment
          name: (simple_identifier))))
    (net_declaration
      (net_type)
      (list_of_net_decl_assignments
        (net_decl_assignment
          (simple_identifier)
          (expression
            (primary
              (hierarchical_identifier
                (simple_identifier))
              (select
                (bit_select
                  (expression
                    left: (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))
                    right: (expression
                      (primary
                        (primary_literal
                          (integral_number
                            (decimal_number
                              (unsigned_number))))))))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (module_instantiation
      instance_type: (simple_identifier)
      (parameter_value_assignment
        (list_of_parameter_value_assignments
          (named_parameter_assignment
            (simple_identifier)
            (param_expression
              (mintypmax_expression
                (expression
                  left: (expression
                    (primary
                      (mintypmax_expression
                        (expression
                          left: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))))
                  right: (expression
                    (primary
                      (primary_literal
                        (integral_number
                          (decimal_number
                            (unsigned_number))))))))))
          (named_parameter_assignment
            (simple_identifier)
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number)))))))))))
      (hierarchical_instance
        (name_of_instance
          instance_name: (simple_identifier))
        (list_of_port_connections
          (named_port_connection
            port_name: (simple_identifier)
            connection: (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (named_port_connection
            port_name: (simple_identifier)
            connection: (expression
              (primary
                (primary_literal
                  (integral_number
                    (binary_number
                      size: (unsigned_number)
                      base: (binary_base)
                      value: (binary_value)))))))
          (one_line_comment)
          (named_port_connection
            port_name: (simple_identifier)
            connection: (expression
              left: (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))))
              right: (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))))))
          (named_port_connection
            port_name: (simple_identifier)
            connection: (expression
              operator: (unary_operator)
              argument: (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (named_port_connection
            port_name: (simple_identifier)
            connection: (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier))))))))
    (one_line_comment)
    (conditional_compilation_directive
      (ifdef_condition
        (simple_identifier)))
    (initial_construct
      (statement_or_null
        (statement
          (statement_item
            (subroutine_call_statement
              (subroutine_call
                (system_tf_call
                  (system_tf_identifier)
                  (list_of_arguments
                    (expression
                      (primary
                        (primary_literal
                          (string_literal
                            (quoted_string
                              (quoted_string_item))))))
                    (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))
                    (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))
                    (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))
                    (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))))))))))
    (conditional_compilation_directive)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (data_declaration
      (data_type_or_implicit
        (data_type
          (integer_vector_type)
          (packed_dimension
            (constant_range
              (constant_expression
                left: (constant_expression
                  (constant_primary
                    (simple_identifier)))
                right: (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number)))))))
              (constant_expression
                (constant_primary
                  (primary_literal
                    (integral_number
                      (decimal_number
                        (unsigned_number))))))))))
      (list_of_variable_decl_assignments
        (variable_decl_assignment
          name: (simple_identifier))
        (variable_decl_assignment
          name: (simple_identifier))))
    (net_declaration
      (simple_identifier)
      (list_of_net_decl_assignments
        (net_decl_assignment
          (simple_identifier))
        (net_decl_assignment
          (simple_identifier))))
    (one_line_comment)
    (data_declaration
      (data_type_or_implicit
        (data_type
          (integer_vector_type)))
      (list_of_variable_decl_assignments
        (variable_decl_assignment
          name: (simple_identifier))))
    (one_line_comment)
    (net_declaration
      (simple_identifier)
      (list_of_net_decl_assignments
        (net_decl_assignment
          (simple_identifier))))
    (data_declaration
      (type_declaration
        (data_type
          (enum_base_type
            (integer_vector_type)
            (packed_dimension
              (constant_range
                (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number))))))
                (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number)))))))))
          (enum_name_declaration
            (simple_identifier))
          (enum_name_declaration
            (simple_identifier))
          (enum_name_declaration
            (simple_identifier))
          (enum_name_declaration
            (simple_identifier)))
        type_name: (simple_identifier)))
    (net_declaration
      (simple_identifier)
      (list_of_net_decl_assignments
        (net_decl_assignment
          (simple_identifier))
        (net_decl_assignment
          (simple_identifier))))
    (one_line_comment)
    (always_construct
      (always_keyword)
      (statement
        (statement_item
          (procedural_timing_control_statement
            (event_control
              (clocking_event
                (event_expression
                  (edge_identifier)
                  (expression
                    (primary
                      (hierarchical_identifier
                        (simple_identifier)))))))
            (one_line_comment)
            (statement_or_null
              (statement
                (statement_item
                  (conditional_statement
                    (cond_predicate
                      (expression
                        left: (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier))))
                        right: (expression
                          operator: (unary_operator)
                          argument: (primary
                            (hierarchical_identifier
                              (simple_identifier))))))
                    (statement_or_null
                      (statement
                        (statement_item
                          (seq_block
                            (statement_or_null
                              (statement
                                (statement_item
                                  (conditional_compilation_directive
                                    (ifdef_condition
                                      (simple_identifier))))))
                            (statement_or_null
                              (statement
                                (statement_item
                                  (conditional_statement
                                    (cond_predicate
                                      (expression
                                        left: (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier))))
                                        right: (expression
                                          (primary
                                            (primary_literal
                                              (integral_number
                                                (decimal_number
                                                  (unsigned_number))))))))
                                    (statement_or_null
                                      (statement
                                        (statement_item
                                          (subroutine_call_statement
                                            (subroutine_call
                                              (system_tf_call
                                                (system_tf_identifier)
                                                (list_of_arguments
                                                  (expression
                                                    (primary
                                                      (primary_literal
                                                        (string_literal
                                                          (quoted_string
                                                            (quoted_string_item))))))
                                                  (expression
                                                    (primary
                                                      (function_subroutine_call
                                                        (subroutine_call
                                                          (system_tf_call
                                                            (system_tf_identifier)))))))))))))
                                    (conditional_compilation_directive)))))
                            (statement_or_null
                              (statement
                                (statement_item
                                  (nonblocking_assignment
                                    (variable_lvalue
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (expression
                                      (primary
                                        (hierarchical_identifier
                                          (simple_identifier))))))))
                            (one_line_comment)
                            (statement_or_null
                              (statement
                                (statement_item
                                  (nonblocking_assignment
                                    (variable_lvalue
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (expression
                                      (primary
                                        (primary_literal
                                          (integral_number
                                            (decimal_number
                                              (unsigned_number))))))))))))))
                    (statement_or_null
                      (statement
                        (statement_item
                          (seq_block
                            (statement_or_null
                              (statement
                                (statement_item
                                  (nonblocking_assignment
                                    (variable_lvalue
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (expression
                                      (primary
                                        (hierarchical_identifier
                                          (simple_identifier))))))))
                            (statement_or_null
                              (statement
                                (statement_item
                                  (nonblocking_assignment
                                    (variable_lvalue
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (expression
                                      (primary
                                        (hierarchical_identifier
                                          (simple_identifier))))))))))))))))))))
    (always_construct
      (always_keyword)
      (statement
        (statement_item
          (procedural_timing_control_statement
            (event_control
              (clocking_event
                (event_expression
                  (edge_identifier)
                  (expression
                    (primary
                      (hierarchical_identifier
                        (simple_identifier)))))))
            (statement_or_null
              (statement
                (statement_item
                  (nonblocking_assignment
                    (variable_lvalue
                      (hierarchical_identifier
                        (simple_identifier)))
                    (expression
                      (primary
                        (hierarchical_identifier
                          (simple_identifier))))))))))))
    (conditional_compilation_directive
      (ifdef_condition
        (simple_identifier)))
    (always_construct
      (always_keyword)
      (statement
        (statement_item
          (procedural_timing_control_statement
            (event_control
              (clocking_event
                (event_expression
                  (edge_identifier)
                  (expression
                    (primary
                      (hierarchical_identifier
                        (simple_identifier)))))))
            (statement_or_null
              (statement
                (statement_item
                  (conditional_statement
                    (cond_predicate
                      (expression
                        left: (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier))))
                        right: (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier))))))
                    (statement_or_null
                      (statement
                        (statement_item
                          (conditional_statement
                            (cond_predicate
                              (expression
                                left: (expression
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier))))
                                right: (expression
                                  (primary
                                    (primary_literal
                                      (integral_number
                                        (decimal_number
                                          (unsigned_number))))))))
                            (statement_or_null
                              (statement
                                (statement_item
                                  (subroutine_call_statement
                                    (subroutine_call
                                      (system_tf_call
                                        (system_tf_identifier)
                                        (list_of_arguments
                                          (expression
                                            (primary
                                              (primary_literal
                                                (string_literal
                                                  (quoted_string
                                                    (quoted_string_item))))))
                                          (expression
                                            (primary
                                              (function_subroutine_call
                                                (subroutine_call
                                                  (method_call
                                                    (primary
                                                      (hierarchical_identifier
                                                        (simple_identifier)))
                                                    (method_call_body
                                                      (enum_method_call
                                                        (enum_method_name))))))))
                                          (expression
                                            (primary
                                              (function_subroutine_call
                                                (subroutine_call
                                                  (method_call
                                                    (primary
                                                      (hierarchical_identifier
                                                        (simple_identifier)))
                                                    (method_call_body
                                                      (enum_method_call
                                                        (enum_method_name)))))))))))))))
                            (conditional_compilation_directive)))))))))))))
    (always_construct
      (always_keyword)
      (statement
        (statement_item
          (seq_block
            (statement_or_null
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))))))
            (statement_or_null
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))))))
            (statement_or_null
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))))))
            (one_line_comment)
            (statement_or_null
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (binary_number
                                size: (unsigned_number)
                                base: (binary_base)
                                value: (binary_value)))))))))))
            (statement_or_null
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (binary_number
                                size: (unsigned_number)
                                base: (binary_base)
                                value: (binary_value)))))))))))
            (statement_or_null
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (binary_number
                                size: (unsigned_number)
                                base: (binary_base)
                                value: (binary_value)))))))))))
            (statement_or_null
              (statement
                (statement_item
                  (case_statement
                    (case_keyword)
                    (case_expression
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))
                    (one_line_comment)
                    (case_item
                      (case_item_expression
                        (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (blocking_assignment
                                              (operator_assignment
                                                (variable_lvalue
                                                  (hierarchical_identifier
                                                    (simple_identifier)))
                                                (assignment_operator)
                                                (expression
                                                  (primary
                                                    (hierarchical_identifier
                                                      (simple_identifier)))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (primary_literal
                                              (integral_number
                                                (decimal_number
                                                  (unsigned_number)))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (primary_literal
                                              (integral_number
                                                (decimal_number
                                                  (unsigned_number))))))))))))))))
                    (case_item
                      (case_item_expression
                        (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_compilation_directive
                                      (ifdef_condition
                                        (simple_identifier))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          left: (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))
                                          right: (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (decimal_number
                                                    (unsigned_number))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (subroutine_call_statement
                                              (subroutine_call
                                                (system_tf_call
                                                  (system_tf_identifier)
                                                  (list_of_arguments
                                                    (expression
                                                      (primary
                                                        (primary_literal
                                                          (string_literal
                                                            (quoted_string
                                                              (quoted_string_item))))))
                                                    (expression
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier))))
                                                    (expression
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier)))))))))))
                                      (conditional_compilation_directive)))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (concatenation
                                              (expression
                                                (primary
                                                  (hierarchical_identifier
                                                    (simple_identifier))))
                                              (expression
                                                (primary
                                                  (hierarchical_identifier
                                                    (simple_identifier))
                                                  (select
                                                    (indexed_range
                                                      (expression
                                                        (primary
                                                          (primary_literal
                                                            (integral_number
                                                              (decimal_number
                                                                (unsigned_number))))))
                                                      (constant_expression
                                                        (constant_primary
                                                          (constant_mintypmax_expression
                                                            (constant_expression
                                                              left: (constant_expression
                                                                (constant_primary
                                                                  (constant_function_call
                                                                    (function_subroutine_call
                                                                      (subroutine_call
                                                                        (system_tf_call
                                                                          (system_tf_identifier)
                                                                          (list_of_arguments
                                                                            (expression
                                                                              (primary
                                                                                (hierarchical_identifier
                                                                                  (simple_identifier)))))))))))
                                                              right: (constant_expression
                                                                (constant_primary
                                                                  (primary_literal
                                                                    (integral_number
                                                                      (decimal_number
                                                                        (unsigned_number))))))))))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          left: (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))
                                          right: (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (binary_number
                                                    size: (unsigned_number)
                                                    base: (binary_base)
                                                    value: (binary_value))))))))))))
                              (one_line_comment)
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          left: (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))
                                          right: (expression
                                            (primary
                                              (cast
                                                (casting_type
                                                  (simple_identifier))
                                                (expression
                                                  left: (expression
                                                    (primary
                                                      (function_subroutine_call
                                                        (subroutine_call
                                                          (system_tf_call
                                                            (system_tf_identifier)
                                                            (list_of_arguments
                                                              (expression
                                                                (primary
                                                                  (hierarchical_identifier
                                                                    (simple_identifier))))))))))
                                                  right: (expression
                                                    (primary
                                                      (primary_literal
                                                        (integral_number
                                                          (decimal_number
                                                            (unsigned_number))))))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (seq_block
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (conditional_statement
                                                      (cond_predicate
                                                        (expression
                                                          left: (expression
                                                            (primary
                                                              (function_subroutine_call
                                                                (subroutine_call
                                                                  (method_call
                                                                    (primary
                                                                      (hierarchical_identifier
                                                                        (simple_identifier)))
                                                                    (method_call_body
                                                                      (string_method_call
                                                                        (string_method_name))))))))
                                                          right: (expression
                                                            (primary
                                                              (primary_literal
                                                                (integral_number
                                                                  (decimal_number
                                                                    (unsigned_number))))))))
                                                      (statement_or_null
                                                        (statement
                                                          (statement_item
                                                            (seq_block
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (blocking_assignment
                                                                      (operator_assignment
                                                                        (variable_lvalue
                                                                          (hierarchical_identifier
                                                                            (simple_identifier)))
                                                                        (assignment_operator)
                                                                        (expression
                                                                          (primary
                                                                            (hierarchical_identifier
                                                                              (simple_identifier)))))))))
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (conditional_compilation_directive
                                                                      (ifdef_condition
                                                                        (simple_identifier))))))
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (subroutine_call_statement
                                                                      (subroutine_call
                                                                        (system_tf_call
                                                                          (system_tf_identifier)
                                                                          (list_of_arguments
                                                                            (expression
                                                                              (primary
                                                                                (primary_literal
                                                                                  (string_literal
                                                                                    (quoted_string
                                                                                      (quoted_string_item)))))))))))))
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (conditional_compilation_directive))))))))
                                                      (statement_or_null
                                                        (statement
                                                          (statement_item
                                                            (seq_block
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (conditional_compilation_directive
                                                                      (ifdef_condition
                                                                        (simple_identifier))))))
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (conditional_statement
                                                                      (cond_predicate
                                                                        (expression
                                                                          left: (expression
                                                                            (primary
                                                                              (hierarchical_identifier
                                                                                (simple_identifier))))
                                                                          right: (expression
                                                                            (primary
                                                                              (primary_literal
                                                                                (integral_number
                                                                                  (decimal_number
                                                                                    (unsigned_number))))))))
                                                                      (statement_or_null
                                                                        (statement
                                                                          (statement_item
                                                                            (subroutine_call_statement
                                                                              (subroutine_call
                                                                                (system_tf_call
                                                                                  (system_tf_identifier)
                                                                                  (list_of_arguments
                                                                                    (expression
                                                                                      (primary
                                                                                        (primary_literal
                                                                                          (string_literal
                                                                                            (quoted_string
                                                                                              (quoted_string_item))))))
                                                                                    (expression
                                                                                      (primary
                                                                                        (function_subroutine_call
                                                                                          (subroutine_call
                                                                                            (method_call
                                                                                              (primary
                                                                                                (hierarchical_identifier
                                                                                                  (simple_identifier)))
                                                                                              (method_call_body
                                                                                                (string_method_call
                                                                                                  (string_method_name))))))))
                                                                                    (expression
                                                                                      (primary
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier)
                                                                                          (simple_identifier))))
                                                                                    (expression
                                                                                      (primary
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier)
                                                                                          (simple_identifier)))))))))))
                                                                      (conditional_compilation_directive)))))
                                                              (one_line_comment)
                                                              (statement_or_null
                                                                (statement
                                                                  (statement_item
                                                                    (blocking_assignment
                                                                      (operator_assignment
                                                                        (variable_lvalue
                                                                          (hierarchical_identifier
                                                                            (simple_identifier)))
                                                                        (assignment_operator)
                                                                        (expression
                                                                          (primary
                                                                            (hierarchical_identifier
                                                                              (simple_identifier))))))))))))))))))))))))))))))
                    (one_line_comment)
                    (case_item
                      (case_item_expression
                        (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (one_line_comment)
                              (one_line_comment)
                              (one_line_comment)
                              (one_line_comment)
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (primary_literal
                                              (integral_number
                                                (binary_number
                                                  size: (unsigned_number)
                                                  base: (binary_base)
                                                  value: (binary_value)))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_compilation_directive
                                      (ifdef_condition
                                        (simple_identifier))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          left: (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))
                                          right: (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (decimal_number
                                                    (unsigned_number))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (subroutine_call_statement
                                              (subroutine_call
                                                (system_tf_call
                                                  (system_tf_identifier)
                                                  (list_of_arguments
                                                    (expression
                                                      (primary
                                                        (primary_literal
                                                          (string_literal
                                                            (quoted_string
                                                              (quoted_string_item))))))
                                                    (expression
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier)
                                                          (simple_identifier))))
                                                    (expression
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier)
                                                          (simple_identifier)))))))))))
                                      (conditional_compilation_directive)))))
                              (one_line_comment)
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          left: (expression
                                            (primary
                                              (function_subroutine_call
                                                (subroutine_call
                                                  (method_call
                                                    (primary
                                                      (hierarchical_identifier
                                                        (simple_identifier)))
                                                    (method_call_body
                                                      (string_method_call
                                                        (string_method_name))))))))
                                          right: (expression
                                            (primary
                                              (cast
                                                (casting_type
                                                  (simple_identifier))
                                                (expression
                                                  (primary
                                                    (primary_literal
                                                      (integral_number
                                                        (decimal_number
                                                          (unsigned_number)))))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (seq_block
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (blocking_assignment
                                                      (operator_assignment
                                                        (variable_lvalue
                                                          (hierarchical_identifier
                                                            (simple_identifier)))
                                                        (assignment_operator)
                                                        (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (conditional_compilation_directive
                                                      (ifdef_condition
                                                        (simple_identifier))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (conditional_statement
                                                      (cond_predicate
                                                        (expression
                                                          left: (expression
                                                            (primary
                                                              (hierarchical_identifier
                                                                (simple_identifier))))
                                                          right: (expression
                                                            (primary
                                                              (primary_literal
                                                                (integral_number
                                                                  (decimal_number
                                                                    (unsigned_number))))))))
                                                      (statement_or_null
                                                        (statement
                                                          (statement_item
                                                            (subroutine_call_statement
                                                              (subroutine_call
                                                                (system_tf_call
                                                                  (system_tf_identifier)
                                                                  (list_of_arguments
                                                                    (expression
                                                                      (primary
                                                                        (primary_literal
                                                                          (string_literal
                                                                            (quoted_string
                                                                              (quoted_string_item)))))))))))))
                                                      (conditional_compilation_directive)))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          left: (expression
                                            (primary
                                              (function_subroutine_call
                                                (subroutine_call
                                                  (method_call
                                                    (primary
                                                      (hierarchical_identifier
                                                        (simple_identifier)))
                                                    (method_call_body
                                                      (string_method_call
                                                        (string_method_name))))))))
                                          right: (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (decimal_number
                                                    (unsigned_number)))))))))))))))))
                    (case_item
                      (case_item_expression
                        (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (blocking_assignment
                              (operator_assignment
                                (variable_lvalue
                                  (hierarchical_identifier
                                    (simple_identifier)))
                                (assignment_operator)
                                (expression
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier))))))))))
                    (case_item
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_compilation_directive
                                      (ifdef_condition
                                        (simple_identifier))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (system_tf_call
                                          (system_tf_identifier)
                                          (list_of_arguments
                                            (expression
                                              (primary
                                                (primary_literal
                                                  (string_literal
                                                    (quoted_string
                                                      (quoted_string_item)))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_compilation_directive)))))))))))))
            (one_line_comment)))))
    (one_line_comment)
    (genvar_declaration
      (list_of_genvar_identifiers
        (simple_identifier)))
    (one_line_comment)
    (net_declaration
      (net_type)
      (data_type_or_implicit
        (implicit_data_type
          (packed_dimension
            (constant_range
              (constant_expression
                left: (constant_expression
                  (constant_primary
                    (simple_identifier)))
                right: (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number)))))))
              (constant_expression
                (constant_primary
                  (primary_literal
                    (integral_number
                      (decimal_number
                        (unsigned_number))))))))))
      (list_of_net_decl_assignments
        (net_decl_assignment
          (simple_identifier)
          (expression
            (primary
              (mintypmax_expression
                (expression
                  left: (expression
                    (primary
                      (hierarchical_identifier
                        (simple_identifier))))
                  right: (expression
                    (primary
                      (hierarchical_identifier
                        (simple_identifier)
                        (simple_identifier)))))))))))
    (loop_generate_construct
      (genvar_initialization
        (simple_identifier)
        (constant_expression
          (constant_primary
            (primary_literal
              (integral_number
                (decimal_number
                  (unsigned_number)))))))
      (constant_expression
        left: (constant_expression
          (constant_primary
            (simple_identifier)))
        right: (constant_expression
          (constant_primary
            (simple_identifier))))
      (genvar_iteration
        (simple_identifier)
        (assignment_operator)
        (constant_expression
          left: (constant_expression
            (constant_primary
              (simple_identifier)))
          right: (constant_expression
            (constant_primary
              (primary_literal
                (integral_number
                  (decimal_number
                    (unsigned_number))))))))
      (generate_block
        name: (simple_identifier)
        (always_construct
          (always_keyword)
          (statement
            (statement_item
              (procedural_timing_control_statement
                (event_control
                  (clocking_event
                    (event_expression
                      (edge_identifier)
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))))
                (statement_or_null
                  (statement
                    (statement_item
                      (seq_block
                        (statement_or_null
                          (statement
                            (statement_item
                              (nonblocking_assignment
                                (variable_lvalue
                                  (hierarchical_identifier
                                    (simple_identifier)
                                    (constant_bit_select
                                      (constant_expression
                                        (constant_primary
                                          (simple_identifier))))
                                    (simple_identifier)))
                                (expression
                                  left: (expression
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier))
                                      (select
                                        (bit_select
                                          (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))))))
                                  right: (expression
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier)
                                        (simple_identifier)))))))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (nonblocking_assignment
                                (variable_lvalue
                                  (hierarchical_identifier
                                    (simple_identifier)
                                    (constant_bit_select
                                      (constant_expression
                                        (constant_primary
                                          (simple_identifier))))
                                    (simple_identifier)))
                                (expression
                                  left: (expression
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier))
                                      (select
                                        (bit_select
                                          (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))))))
                                  right: (expression
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier)
                                        (simple_identifier)))))))))))))))))
        (continuous_assign
          (list_of_net_assignments
            (net_assignment
              (net_lvalue
                (hierarchical_identifier
                  (simple_identifier)
                  (constant_bit_select
                    (constant_expression
                      (constant_primary
                        (simple_identifier))))
                  (simple_identifier)))
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))
        (continuous_assign
          (list_of_net_assignments
            (net_assignment
              (net_lvalue
                (hierarchical_identifier
                  (simple_identifier)
                  (constant_bit_select
                    (constant_expression
                      (constant_primary
                        (simple_identifier))))
                  (simple_identifier)))
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))))))))))
  (one_line_comment)
  (text_macro_usage
    (simple_identifier)
    (list_of_actual_arguments
      (actual_argument
        (param_expression
          (mintypmax_expression
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))))))
  (one_line_comment))
